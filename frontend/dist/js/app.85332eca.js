(function(){"use strict";var t={6045:function(t,e,n){var a=n(3751),o=n(641),s=n(33);const r={id:"app"},i={class:"container"},c={class:"task-form"},l={class:"task-list"},d={class:"task-info"},u={class:"task-actions"},k=["onClick"],f=["onClick"];function p(t,e,n,p,h,v){return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("div",i,[e[3]||(e[3]=(0,o.Lk)("h1",null,"任务管理系统",-1)),(0,o.Lk)("div",c,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>h.newTask.title=t),placeholder:"任务标题",class:"input"},null,512),[[a.Jo,h.newTask.title]]),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>h.newTask.description=t),placeholder:"任务描述",class:"textarea"},null,512),[[a.Jo,h.newTask.description]]),(0,o.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>v.addTask&&v.addTask(...t)),class:"btn btn-primary"},"添加任务")]),(0,o.Lk)("div",l,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(h.tasks,t=>((0,o.uX)(),(0,o.CE)("div",{key:t.id,class:"task-item"},[(0,o.Lk)("div",d,[(0,o.Lk)("h3",{class:(0,s.C4)({completed:t.completed})},(0,s.v_)(t.title),3),(0,o.Lk)("p",null,(0,s.v_)(t.description),1),(0,o.Lk)("small",null,"创建时间: "+(0,s.v_)(v.formatDate(t.created_at)),1)]),(0,o.Lk)("div",u,[(0,o.Lk)("button",{onClick:e=>v.toggleTask(t),class:"btn btn-secondary"},(0,s.v_)(t.completed?"标记未完成":"标记完成"),9,k),(0,o.Lk)("button",{onClick:e=>v.deleteTask(t.id),class:"btn btn-danger"},"删除",8,f)])]))),128))])])])}n(4114),n(8111),n(2489);var h=n(4335);const v="http://localhost:8000/api";var b={name:"App",data(){return{tasks:[],newTask:{title:"",description:"",completed:!1}}},mounted(){this.fetchTasks()},methods:{async fetchTasks(){try{const t=await h.A.get(`${v}/tasks/`);this.tasks=t.data}catch(t){console.error("获取任务失败:",t)}},async addTask(){if(this.newTask.title.trim())try{const t=await h.A.post(`${v}/tasks/`,this.newTask);this.tasks.push(t.data),this.newTask={title:"",description:"",completed:!1}}catch(t){console.error("添加任务失败:",t)}},async toggleTask(t){try{const e={...t,completed:!t.completed},n=await h.A.put(`${v}/tasks/${t.id}/`,e),a=this.tasks.findIndex(e=>e.id===t.id);this.tasks.splice(a,1,n.data)}catch(e){console.error("更新任务失败:",e)}},async deleteTask(t){try{await h.A.delete(`${v}/tasks/${t}/`),this.tasks=this.tasks.filter(e=>e.id!==t)}catch(e){console.error("删除任务失败:",e)}},formatDate(t){return new Date(t).toLocaleString()}}},m=n(6262);const y=(0,m.A)(b,[["render",p]]);var w=y;(0,a.Ef)(w).mount("#app")}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var s=e[a]={exports:{}};return t[a].call(s.exports,s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,a,o,s){if(!a){var r=1/0;for(d=0;d<t.length;d++){a=t[d][0],o=t[d][1],s=t[d][2];for(var i=!0,c=0;c<a.length;c++)(!1&s||r>=s)&&Object.keys(n.O).every(function(t){return n.O[t](a[c])})?a.splice(c--,1):(i=!1,s<r&&(r=s));if(i){t.splice(d--,1);var l=o();void 0!==l&&(e=l)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[a,o,s]}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,s,r=a[0],i=a[1],c=a[2],l=0;if(r.some(function(e){return 0!==t[e]})){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(c)var d=c(n)}for(e&&e(a);l<r.length;l++)s=r[l],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(d)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],function(){return n(6045)});a=n.O(a)})();
//# sourceMappingURL=app.85332eca.js.map